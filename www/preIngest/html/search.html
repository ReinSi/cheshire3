<div id="single">

    <script type="text/javascript" src="js/searchForm.js"></script>
    <script type="text/javascript" src="js/cookies.js"></script>

    <script type="text/javascript">
        olf = function() {
            formFromString(getCookie('searchform'));
	    updateCollection();
        };

        if (addLoadEvent) {
            addLoadEvent(olf);
        } else {
            window.onload = olf;
        }

        var indexListAll = %INDEX_ARRAY%;
        var indexList = %INDEX_ARRAY%;

        function updateCollection() {
            var sel = document.getElementById('withinCollection');
            var coll = sel.value;
            if (coll == null || coll.indexOf("cql.anywhere") >= 0) {
                indexList = indexListAll.slice(0);
            } else {
                indexList = new Array();
                for (var i = 0; i < indexListAll.length; i++) {
                    var idx = indexListAll[i];
                    if (idx.indexOf('anywhere') >= 0 ||
                        idx.indexOf(coll) >= 0) {
                        indexList.push(idx);
                    }
                }
            }
            updateIndexes();
        }
    </script>
    <p>
        Enter the pre-ingest resource ID and then click 'Start Search' or hit the enter key. </p>

    <form name="searchform" method="post" action="search"
          onsubmit="setCookie('searchform', formToString());">
        <!-- uncomment and edit the following if you wish to enable searching within a specific collecion -->
        <p class="bar">
            Search: <select name="withinCollection" id="withinCollection"
                            title="Specify which collections to search"
                            onchange="updateCollection();">
            %COLLECTIONS% </select>
        </p>
        <noscript>
            <p class="searchClause">
                <select name="fieldidx1" id="fieldidx1"
                        onchange="updateSelects(1);"> %INDEX_MENU% </select> for
                <select name="fieldrel1" id="fieldrel1">
                    <option value="all/relevant/proxinfo" selected="selected">
                        All
                    </option>
                    <option value="any/relevant/proxinfo">Any</option>
                    <option value="exact/relevant/proxinfo">Exactly</option>
                    <option value="=/relevant/proxinfo">Phrase</option>
                </select> <input name="fieldcont1" id="fieldcont1" type="text"
                                 size="45"/>
            </p>
            <p class="boolOp">
                <input type="radio" name="fieldbool1"
                       value="and/relevant/proxinfo" checked="checked"
                       id="fieldbool1-and"/> <label for="fieldbool1-and">AND&nbsp;&nbsp;</label>
                <input type="radio" name="fieldbool1"
                       value="or/relevant/proxinfo" id="fieldbool1-or"/> <label
                    for="fieldbool1-or">OR&nbsp;&nbsp;</label> <input
                    type="radio" name="fieldbool1" value="not"
                    id="fieldbool1-not"/> <label for="fieldbool1-not">NOT&nbsp;&nbsp;</label>
            </p>

            <p class="searchClause">
                <select name="fieldidx2" onchange="updateSelects(2);">
                    %INDEX_MENU% </select> for <select name="fieldrel2">
                <option value="all/relevant/proxinfo" selected="selected">All
                </option>
                <option value="any/relevant/proxinfo">Any</option>
                <option value="=/relevant/proxinfo">Phrase</option>
            </select> <input name="fieldcont2" type="text" size="45"/>
            </p>
            <p class="boolOp">
                <input type="radio" name="fieldbool2"
                       value="and/relevant/proxinfo" checked="checked"
                       id="fieldbool2-and"/> <label for="fieldbool2-and">AND&nbsp;&nbsp;</label>
                <input type="radio" name="fieldbool2"
                       value="or/relevant/proxinfo" id="fieldbool2-or"/> <label
                    for="fieldbool2-or">OR&nbsp;&nbsp;</label> <input
                    type="radio" name="fieldbool2" value="not"
                    id="fieldbool2-not"/> <label for="fieldbool2-not">NOT&nbsp;&nbsp;</label>
            </p>

            <p class="searchClause">
                <select name="fieldidx3" onchange="updateSelects(3);">
                    %INDEX_MENU% </select> for <select name="fieldrel3">
                <option value="all/relevant/proxinfo" selected="selected">All
                </option>
                <option value="any/relevant/proxinfo">Any</option>
                <option value="=/relevant/proxinfo">Phrase</option>
            </select> <input name="fieldcont3" type="text" size="45"/>
            </p>
        </noscript>
        <a id="addClauseP"></a>
        <script type="text/javascript">
            document.write('<a href="javascript:addSearchClause(1)" id="addClauseLink" title="Add another search clause, like the one above - [requires JavaScript]">...Add another search term</a>');
            document.write('<a href="html/help.html#additionalclause" title="What is this?"><font class="helpMark">?</font></a>');
        </script>
        <!-- context for continuing the query -->

        <input type="submit" value="  Start Search  "/> <input type="reset"
                                                               value="Reset Form"
                                                               onclick="resetForm('searchform');"/>
    </form>

</div> <!-- /single -->
