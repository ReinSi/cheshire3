<config>
<subConfigs>

<subConfig type="documentFactory" id="defaultDocumentFactory">
  <objectType>documentFactory.SimpleDocumentFactory</objectType>
</subConfig>
<subConfig type="documentFactory" id="ComponentDocumentFactory">
  <objectType>documentFactory.ComponentDocumentFactory</objectType>
</subConfig>



<!-- Parser objects -->

<subConfig type="parser" id="defaultParser">
  <objectType>parser.MinidomParser</objectType>
</subConfig>
<subConfig type="parser" id="SaxParser">
  <objectType>parser.SaxParser</objectType>
</subConfig>
<subConfig type="parser" id="NsSaxParser">
  <objectType>parser.SaxParser</objectType>
  <options>
    <setting type="namespaces">1</setting>
  </options>
</subConfig>
<subConfig type="parser" id="FtParser">
  <objectType>parser.FtParser</objectType>
</subConfig>
<subConfig type="parser" id="defaultRecordStoreParser">
  <objectType>parser.XmlRecordStoreParser</objectType> 
</subConfig>
<subConfig type="parser" id="LxmlParser">
  <objectType>parser.LxmlParser</objectType>
</subConfig>
<subConfig type="parser" id="LxmlHtmlParser">
  <objectType>parser.LxmlHtmlParser</objectType>
</subConfig>


<!-- PreParser objects -->


<subConfig type="preParser" id="PrintableOnlyPreParser">
  <objectType>preParser.PrintableOnlyPreParser</objectType>
</subConfig>
<subConfig type="preParser" id="CharacterEntityPreParser">
  <objectType>preParser.CharacterEntityPreParser</objectType>
</subConfig>
<subConfig type="preParser" id="AmpPreParser">
  <objectType>preParser.AmpPreParser</objectType>
</subConfig>

<subConfig type="preParser" id="SgmlPreParser">
  <objectType>preParser.SgmlPreParser</objectType>
  <options>
    <setting type="emptyElements">lb br hr</setting>
  </options>
</subConfig>

<subConfig type="preParser" id="PicklePreParser">
  <objectType>preParser.PicklePreParser</objectType>
</subConfig>
<subConfig type="preParser" id="UnpicklePreParser">
  <objectType>preParser.UnpicklePreParser</objectType>
</subConfig>

<subConfig type="preParser" id="GzipPreParser">
  <objectType>preParser.GzipPreParser</objectType>
</subConfig>

<subConfig type="preParser" id="MarcToSgmlPreParser">
  <objectType>preParser.MarcToSgmlPreParser</objectType>
</subConfig>
<subConfig type="preParser" id="MarcToXmlPreParser">
  <objectType>preParser.MarcToXmlPreParser</objectType>
</subConfig>
<subConfig type="preParser" id="HtmlSmashPreParser">
  <objectType>preParser.HtmlSmashPreParser</objectType>
</subConfig>

  <subConfig type="preParser" id="Latin1PreParser">
     <objectType>preParser.UnicodeDecodePreParser</objectType>
     <options>
       <setting type="codec">latin_1</setting>
     </options>
  </subConfig>

  <subConfig type="preParser" id="Utf8PreParser">
     <objectType>preParser.UnicodeDecodePreParser</objectType>
  </subConfig>

<subConfig type="preParser" id="FileUtilPreParser">
  <objectType>preParser.FileUtilPreParser</objectType>
</subConfig>

<subConfig type="preParser" id="MagicRedirectPreParser">
  <objectType>preParser.MagicRedirectPreParser</objectType>

  <!-- 
        need to set a hash of what to redirect to for each mime type
  <hash>
    <object type="preParser" mimeType="application/x-gzip" ref="GzipPreParser"/>
  </hash>
  -->

</subConfig>


  <subConfig type="preParser" id="PdfXmlPreParser">
     <objectType>preParser.CmdLinePreParser</objectType>
     <paths>
       <path type="commandLine">pdftohtml -xml %INDOC% %OUTDOC%</path>
     </paths>
     <options>
       <setting type="outMimeType">text/xml</setting>
     </options>
  </subConfig>

  <subConfig type="preParser" id="PdfXmlFix1PreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">&lt;/?[ib]&gt;</setting>
    </options>
  </subConfig>

  <subConfig type="preParser" id="PdfXmlFix2PreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">&lt;A</setting>
      <setting type="char">&lt;a</setting>
    </options>
  </subConfig>

  <subConfig type="preParser" id="PdfXmlFix3PreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">Error: PDF version (.*?) \(continuing anyway\)\n</setting>
    </options>
  </subConfig>

  <subConfig type="preParser" id="PdfXmlFix4PreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">&lt;\?xml(.*?)dtd"&gt;</setting>
    </options>
  </subConfig>


   <subConfig type="preParser" id="PsPdfPreParser">
     <objectType>preParser.CmdLinePreParser</objectType>
     <paths>
       <path type="commandLine">ps2pdf - -</path>
     </paths>
     <options>
       <setting type="outMimeType">application/pdf</setting>
     </options>
   </subConfig>



   <subConfig type="preParser" id="PdfToTxtPreParser">
     <objectType>preParser.CmdLinePreParser</objectType>
     <paths>
       <path type="commandLine">pdftotext -raw -nopgbrk %INDOC% %OUTDOC%</path>
     </paths>
     <options>
       <setting type="outMimeType">text/plain</setting>
     </options>
   </subConfig>

  <subConfig type="preParser" id="PdfTxtFixPreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">\n[0-9]+\n</setting>
      <setting type="char"> </setting>
    </options>
  </subConfig>


  <subConfig type="preParser" id="HtmlTidyPreParser">
     <objectType>preParser.CmdLinePreParser</objectType>
     <paths>
       <path type="commandLine">tidy -asxml -i -o %OUTDOC% %INDOC%</path>
     </paths>
     <options>
       <setting type="outMimeType">text/xml</setting>
     </options>
  </subConfig>

  <subConfig type="preParser" id="TidyFixPreParser">
    <objectType>preParser.RegexpSmashPreParser</objectType>
    <options>
      <setting type="regexp">&lt;!doctype(.*?)&gt;</setting>
    </options>
  </subConfig>


<subConfig type="preParser" id="TxtToXmlPreParser">
  <objectType>preParser.TxtToXmlPreParser</objectType>
</subConfig>

<!-- Extractor objects -->

<subConfig type="extractor" id="SimpleExtractor">
  <objectType>extractor.SimpleExtractor</objectType>
</subConfig>

<subConfig type="extractor" id="ProxExtractor">
  <objectType>extractor.SimpleExtractor</objectType>
  <options>
    <setting type="prox">1</setting>
    <setting type="reversable">1</setting>
  </options>
</subConfig>

<subConfig type="extractor" id="TeiExtractor">
  <objectType>extractor.TeiExtractor</objectType>
</subConfig>


<!-- Tokenizers -->

<subConfig type="tokenizer" id="SimpleTokenizer">
  <objectType>tokenizer.SimpleTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="RegexpSubTokenizer">
  <objectType>tokenizer.RegexpSubTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="RegexpFindTokenizer">
  <objectType>tokenizer.RegexpFindTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="RegexpFindOffsetTokenizer">
  <objectType>tokenizer.RegexpFindOffsetTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="RegexpFindPunctuationOffsetTokenizer">
  <objectType>tokenizer.RegexpFindPunctuationOffsetTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="SuppliedOffsetTokenizer">
  <objectType>tokenizer.SuppliedOffsetTokenizer</objectType>
</subConfig>
 
<subConfig type="tokenizer" id="SentenceTokenizer">
  <objectType>tokenizer.SentenceTokenizer</objectType>
</subConfig>

<subConfig type="tokenizer" id="DateTokenizer">
  <objectType>tokenizer.DateTokenizer</objectType>
  <options>
  	<setting type="dayfirst">1</setting>
  </options>
</subConfig>

<subConfig type="tokenizer" id="PreserveMaskingTokenizer">
	<objectType>tokenizer.RegexpSubTokenizer</objectType>
	<docs>Keyword Tokenizer which doesn't split at CQL masking characters (^*?)</docs>
	<options>
		<setting type="regexp">((?&lt;!\s)'|[-.,]((?=\s)|$)|(^|(?&lt;=\s))[-.,']|[.,'-][.,'-]|[~`!@+=\#\&amp;()\[\]{}\\\|\":;&lt;&gt;/])</setting>
	</options>				
</subConfig>


<!-- TokenMerge -->

<subConfig type="tokenMerger" id="SimpleTokenMerger">
  <objectType>tokenMerger.SimpleTokenMerger</objectType>
</subConfig>

<subConfig type="tokenMerger" id="ProxTokenMerger">
  <objectType>tokenMerger.ProximityTokenMerger</objectType>
</subConfig>

<subConfig type="tokenMerger" id="OffsetProxTokenMerger">
  <objectType>tokenMerger.OffsetProximityTokenMerger</objectType>
</subConfig>

<subConfig type="tokenMerger" id="NGramTokenMerger">
  <objectType>tokenMerger.NGramTokenMerger</objectType>
</subConfig>

<subConfig type="tokenMerger" id="SequenceRangeTokenMerger">
  <objectType>tokenMerger.SequenceRangeTokenMerger</objectType>
</subConfig>

<subConfig type="tokenMerger" id="MinMaxRangeTokenMerger">
  <objectType>tokenMerger.MinMaxRangeTokenMerger</objectType>
</subConfig>


<!-- Some 'Extractor' workflows -->

<subConfig type="workflow" id="KeywordExtractorWorkflow">
  <objectType>workflow.SimpleWorkflow</objectType>
  <workflow>
    <object type="extractor" ref="SimpleExtractor"/>
    <object type="tokenizer" ref="RegexpSubTokenizer"/>
    <object type="tokenMerger" ref="SimpleTokenMerger"/>
  </workflow>
</subConfig>

<subConfig type="workflow" id="ProxExtractorWorkflow">
  <objectType>workflow.SimpleWorkflow</objectType>
  <workflow>
    <object type="extractor" ref="ProxExtractor"/>
    <object type="tokenizer" ref="RegexpSubTokenizer"/>
    <object type="tokenMerger" ref="ProxTokenMerger"/>
  </workflow>
</subConfig>

<subConfig type="workflow" id="ProxStoplistExtractorWorkflow">
  <objectType>workflow.CachingWorkflow</objectType>
  <workflow>
    <object type="extractor"  ref="ProxExtractor"/>
    <object type="normalizer" ref="CaseNormalizer"/>
    <object type="tokenizer"  ref="RegexpFindOffsetTokenizer"/>
    <object type="normalizer" ref="StoplistNormalizer"/>
    <object type="tokenMerger" ref="OffsetProxTokenMerger"/>
  </workflow>
</subConfig>


<!-- Normalizer Objects -->

<subConfig type="normalizer" id="UndocumentNormalizer">
  <objectType>normalizer.UndocumentNormalizer</objectType>
</subConfig>

<subConfig type="normalizer" id="DataExistsNormalizer">
  <objectType>normalizer.DataExistsNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="CaseNormalizer">
  <objectType>normalizer.CaseNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="SpaceNormalizer">
  <objectType>normalizer.SpaceNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="ArticleNormalizer">
  <objectType>normalizer.ArticleNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="StripperNormalizer">
  <objectType>normalizer.RegexpNormalizer</objectType>
  <options>
    <setting type="regexp">["%#@~!*{}]</setting>
  </options>
</subConfig>
<subConfig type="normalizer" id="PrintableNormalizer">
  <objectType>normalizer.RegexpNormalizer</objectType>
  <options>
    <setting type="regexp">([\x0e-\x1f]|[\x7b-\xff])</setting>
  </options>
</subConfig>

<subConfig type="normalizer" id="PossessiveNormalizer">
  <objectType>normalizer.PossessiveNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="DiacriticNormalizer">
  <objectType>normalizer.DiacriticNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="IntNormalizer">
  <objectType>normalizer.IntNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="StringIntNormalizer">
  <objectType>normalizer.StringIntNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="EnglishStemNormalizer">
  <objectType>normalizer.StemNormalizer</objectType>
  <options>
    <setting type="language">english</setting>
  </options>
</subConfig>

<!-- Deprecate ? -->
<!-- Obselete - code no longer exists - use tokenizers instead -->
<!-- 
<subConfig type="normalizer" id="KeywordNormalizer">
  <objectType>normalizer.KeywordNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="ProximityNormalizer">
  <objectType>normalizer.KeywordNormalizer</objectType>
  <options>
    <setting type="prox">1</setting>
  </options>
</subConfig>
-->

<subConfig type="normalizer" id="ExactExpansionNormalizer">
  <objectType>normalizer.ExactExpansionNormalizer</objectType>
</subConfig>
<!-- same as previous - left in for backward compatibility -->
<subConfig type="normalizer" id="WordExpansionNormalizer">
  <objectType>normalizer.ExactExpansionNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="DateStringNormalizer">
  <objectType>normalizer.DateStringNormalizer</objectType>
</subConfig>
<subConfig type="normalizer" id="DateYearNormalizer">
  <objectType>normalizer.DateYearNormalizer</objectType>
</subConfig>



<!-- Transformer Objects -->

<subConfig type="transformer" id="XmlTransformer">
  <objectType>transformer.XmlTransformer</objectType>
</subConfig>
<subConfig type="transformer" id="GRS1Transformer">
  <objectType>transformer.GRS1Transformer</objectType>
</subConfig>
<subConfig type="transformer" id="defaultRecordStoreTransformer">
  <objectType>transformer.XmlRecordStoreTransformer</objectType>
</subConfig>


</subConfigs>

</config>
  
